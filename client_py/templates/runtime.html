<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>华安基金-智能提取助手</title>
    <link href="/static/css/runtime.css" rel="stylesheet"/>
    <link href="/static/css/chat.css" rel="stylesheet"/>
    <!--引入animate.css库-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

</head>

<body>
<form action="" method="post"></form>
<div id="root">

    <header>
        <img src="/static/image/logo.png" width="119" height="30" alt=""/>
    </header>
    <main>
        <div class="wrapper">
            <div class="reference">
                <iframe id="pdf" src="{{ pdf }}" view="fit" frameborder="0" ></iframe>
            </div>

            <div class="preview">
                <div class="toolbar">
                    <div>
                        <a href="/pdf_extract"><img src="/static/image/back.png" alt="" width="12" height="12" />返回上传文件</a>
                    </div>
                    <div>
                        <a href="javascript:void(0)" onclick="showAll()"><img src="/static/image/tag.png" alt="" width="12" height="12"/>标记所有要素</a>
                        <a href="{{ xlsx }}"><img src="/static/image/download.png" alt="" width="12" height="12"/>保存表格</a>
                    </div>
                </div>
                <div class="chatwindow">
                    <div class="top_menu">
                        <div class="title">文档问答助手</div>
                    </div>
                    <ul class="messages" style="height: calc(100% - 140px)">
                        <div style="text-align: left">
                            <pre style="white-space: pre-wrap; word-wrap:break-word" id="chatlog"></pre>
                        </div>
                    </ul>
                    <div class="bottom_wrapper clearfix">
                        <textarea class="message_input_wrapper" placeholder="点击这里输入问题，回车提交，按shift+回车换行" id="chatinput"></textarea>
                        <button class="send_message" id="sendbutton">提交</button>
                    </div>
                </div>


            </div>
        </div>
        </form>
    </main>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/8.0.0/marked.min.js"></script>
<script src="/static/js/script.js"></script>
<script type="application/javascript">
    function showAll() {
        var form = document.getElementsByTagName("form")[0];
        var inputEl = document.createElement("input");
        inputEl.name = "show_all";
        inputEl.type = "hidden";
        inputEl.value = "true";
        form.appendChild(inputEl);
        form.submit();
    }

    function showText(text) {
        var form = document.getElementsByTagName("form")[0];
        var inputEl = document.createElement("input");
        inputEl.name = "show_text";
        inputEl.type = "hidden";
        inputEl.value = text;
        form.appendChild(inputEl);
        form.submit();
    }

</script>

</body>

</html>
